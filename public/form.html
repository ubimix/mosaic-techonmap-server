<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Parsley Form</title>
<script src="components/jquery/jquery.js"></script>
<script src="components/parsleyjs/dist/parsley.min.js"></script>
<script src="components/superagent/superagent.js"></script>
<script src="./form.js"></script>
<script src="components/bootstrap/dist/js/bootstrap.js"></script>
<link href="components/bootstrap/dist/css/bootstrap.css"
	rel="stylesheet">
<link href="components/parsleyjs/src/parsley.css" rel="stylesheet">
<script src="components/dropzone/downloads/dropzone.js"></script>

<!-- Optional theme -->
<link rel="stylesheet"
	href="./components/bootstrap/dist/css/bootstrap-theme.min.css">

<script src="./components/dropzone/downloads/dropzone.js"></script>

<style>
#actions {
	margin: 2em 0;
}

/* Mimic table appearance */
div.table {
	display: table;
}

div.table .file-row {
	display: table-row;
}

div.table .file-row>div {
	display: table-cell;
	vertical-align: top;
	border-top: 1px solid #ddd;
	padding: 8px;
}

div.table .file-row:nth-child(odd) {
	background: #f9f9f9;
}

/* The total progress gets shown by event listeners */
#total-progress {
	opacity: 0;
	transition: opacity 0.3s linear;
}

/* Hide the progress bar when finished */
#previews .file-row.dz-success .progress {
	opacity: 0;
	transition: opacity 0.3s linear;
}

/* Hide the delete button initially */
#previews .file-row .delete {
	display: none;
}

/* Hide the start and cancel buttons and show the delete button */
#previews .file-row.dz-success .start,#previews .file-row.dz-success .cancel
	{
	display: none;
}

#previews .file-row.dz-success .delete {
	display: block;
}
</style>

<style>
/* .form {
	margin: auto;
	max-width: 900px;
}

.form input[type="text"] {
	width: 420px;
	height: 34px;
	border: 1px solid #cccccc;
	float: left;
	color: #666666;
	font-weight: 300;
	font-size: 16px;
	padding-left: 10px;
	box-sizing: content-box;
}
 */
.invalid-form-error-message {
	margin-top: 10px;
	padding: 5px;
}

.invalid-form-error-message.filled {
	border-left: 2px solid red;
}

p.parsley-success {
	color: #468847;
	background-color: #DFF0D8;
	border: 1px solid #D6E9C6;
}

.parsley-custom-error-message {
	color: #B94A48;
}

.row {
	padding-bottom: 1em;
}
</style>

</head>

<body>


	<!-- 

Description Commerce
    Nom "raison_sociale",
    Enseigne "enseigne",
    Site web "site_web"  
    Description "description",
    Tags "tags",
    Horaires "horaires"
    "mode_paiement"
    Marques ,"marques",
    Images "images"
    Vidéos "lien_video",
    "activites",
    CCI: (champ caché) ,"cci_siret",

Adresse et contact
    "contact_nom","contact_email",
    "adresse_rue","adresse_ville","adresse_code_postal"
    "tel","fax",

Réseaux sociaux
    "twitter","linkedin","facebook","viadeo","google_plus"

 -->
	<div class="container">

		<div class="panel panel-default">
			<div class="panel-body">

				<div class="row">
					<div class="col-md-8">
						<form id="edit-form" class="form form-horizontal"
							data-parsley-validate>

							<div class="form-group">
								<label class="col-sm-2 control-label">Nom</label>
								<div class="col-sm-10">
									<input name="name" class="form-control"
										data-parsley-error-message="Un nom de commerce est requis"
										type="text" required placeholder="Nom de votre commerce">
									<span class="field-marker mandatory"></span>
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Nom de l'enseigne</label>
								<div class="col-sm-10">
									<span class="field-marker mandatory"></span> <input
										name="enseigne" type="text" class="form-control"
										placeholder="Nom de l'enseigne de votre commerce"> <span
										class="field-marker mandatory"></span>
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Site Web</label>
								<div class="col-sm-10">
									<span class="field-marker"></span> <input name="website"
										class="form-control" type="text"
										placeholder="Site Web de votre commerce">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Description</label>
								<div class="col-sm-10">
									<span class="field-marker mandatory"></span>
									<textarea required name="description" data-maxlength="250"
										class="form-control"
										data-parsley-error-message="Une description de votre commerce est requise"
										placeholder="Description de votre commerce (250 caractères maximum)"
										rows="6"></textarea>
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Mots-clefs</label>
								<div class="col-sm-10">
									<span class="field-marker"></span> <input name="tags"
										type="text" class="form-control"
										placeholder="Mots-clefs décrivant votre commerce (séparés par des virgules)">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Horaires
									d'ouverture</label>
								<div class="col-sm-10">
									<span class="field-marker"></span>
									<textarea class="form-control" name="horaires"
										data-maxlength="250"
										placeholder="Horaires d'ouverture de votre commerce" rows="6"></textarea>
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Modes de paiement</label>
								<div class="col-sm-10">
									<div>
										<input type="checkbox" name="payment[]" value="cb"
											data-parsley-mincheck="2" /> Carte bleue
									</div>
									<div>
										<input type="checkbox" name="payment[]" value="notes" />
										Espèces
									</div>
									<div>
										<input type="checkbox" name="payment[]" value="foodnote" />
										Ticket restaurant
									</div>
									<div>
										<input type="checkbox" name="payment[]" value="giftnote" />
										Chèques cadeau
									</div>
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Marques proposées</label>
								<div class="col-sm-10">
									<span class="field-marker mandatory"></span> <input
										name="marques" type="text" class="form-control"
										placeholder="Marques proposées par votre commerce (séparées par des virgules)">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Liens vidéos</label>
								<div class="col-sm-10">
									<span class="field-marker mandatory"></span> <input
										name="video" type="text" class="form-control"
										placeholder="Liens vers une ou plusieurs vidéos de présentation de votre commerce">
								</div>
							</div>


							<!-- 
Adresse et contact
    "adresse_rue","adresse_ville","adresse_code_postal"
    "contact_nom","contact_email",
    "tel","fax",
 -->


							<div class="form-group">
								<label class="col-sm-2 control-label">Adresse</label>
								<div class="col-sm-10">
									<span class="field-marker mandatory"></span> <input
										name="address" type="text" required class="form-control"
										data-parsley-error-message="L'adresse de votre commerce est requise"
										placeholder="Adresse de votre commerce"> <span
										class="field-marker mandatory"></span> <input name="postcode"
										type="text" required class="form-control"
										data-parsley-error-message="Le code postal de votre commerce est requis"
										placeholder="Code postal de votre commerce"> <span
										class="field-marker mandatory"></span> <input name="city"
										type="text" required class="form-control"
										data-parsley-error-message="La ville de votre commerce est requise"
										placeholder="Ville de votre commerce">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Téléphone</label>
								<div class="col-sm-10">
									<span class="field-marker"></span> <input name="phone"
										class="form-control" type="text"
										placeholder="Numéro de téléphone de votre commerce">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Numéro de fax</label>
								<div class="col-sm-10">
									<span class="field-marker"></span> <input name="city"
										type="text" class="form-control"
										placeholder="Numéro de fax de votre commerce">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Contact principal</label>
								<div class="col-sm-10">
									<span class="field-marker"></span> <input name="contactName"
										type="text" class="form-control"
										placeholder="Nom du contact principal de votre commerce">
									<span class="field-marker"></span> <input name="contactEmail"
										type="text" class="form-control"
										placeholder="Adresse e-mail de contact de votre commerce">
								</div>
							</div>

							<!-- 
Réseaux sociaux
    "twitter","linkedin","facebook","viadeo","google_plus"
 -->
							<div class="form-group">
								<label class="col-sm-2 control-label">Facebook </label>
								<div class="col-sm-10">
									<span class="field-marker"></span> <input name="facebook"
										class="form-control" type="text"
										placeholder="Compte Facebook de votre commerce">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Viadeo </label>
								<div class="col-sm-10">
									<span class="field-marker"></span> <input name="viadeo"
										type="text" class="form-control"
										placeholder="Compte Viadeo contact de votre commerce">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Google+ </label>
								<div class="col-sm-10">
									<span class="field-marker"></span> <input name="viadeo"
										type="text" class="form-control"
										placeholder="Compte Google+ de votre commerce">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">LinkedIn </label>
								<div class="col-sm-10">
									<span class="field-marker"></span> <input name="LinkedIn"
										type="text" class="form-control"
										placeholder="Compte LinkedIn de votre commerce">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">Twitter </label>
								<div class="col-sm-10">
									<span class="field-marker"></span> <input name="Twitter"
										type="text" class="form-control"
										placeholder="Compte Twitter de votre commerce">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label"></label>
								<div class="col-sm-10">
									<!-- Dropzone -->
									<div id="container">
										<div id="actions" class="row">

											<div class="col-lg-7">
												<!-- The fileinput-button span is used to style the file input field as button -->
												<span class="btn btn-primary fileinput-button"> <i
													class="glyphicon glyphicon-plus"></i> <span>Ajouter
														des images</span>
												</span>
											</div>

											<div class="col-lg-5">
												<!-- The global file processing state -->
												<span class="fileupload-process">
													<div id="total-progress"
														class="progress progress-striped active"
														role="progressbar" aria-valuemin="0" aria-valuemax="100"
														aria-valuenow="0">
														<div class="progress-bar progress-bar-success"
															style="width: 0%;" data-dz-uploadprogress></div>
													</div>
												</span>
											</div>

										</div>

										<div class="table table-striped" class="files" id="previews">

											<div id="template" class="file-row">
												<!-- This is used as the file preview template -->
												<div>
													<span class="preview"><img data-dz-thumbnail /></span>
												</div>
												<div>
													<p class="name" data-dz-name></p>
													<strong class="error text-danger" data-dz-errormessage></strong>
												</div>
												<div>
													<p class="size" data-dz-size></p>
													<div class="progress progress-striped active"
														role="progressbar" aria-valuemin="0" aria-valuemax="100"
														aria-valuenow="0">
														<div class="progress-bar progress-bar-success"
															style="width: 0%;" data-dz-uploadprogress></div>
													</div>
												</div>
												<div>

													<button data-dz-remove class="btn btn-danger delete">
														<i class="glyphicon glyphicon-trash"></i> <span>Delete</span>
													</button>
												</div>
											</div>

										</div>
									</div>
									<!-- /Dropzone -->
								</div>
							</div>


							<div class="form-group">
								<label class="col-sm-2 control-label"></label>
								<div class="col-sm-10">
									<button type="submit" class="btn btn-primary"
										data-error-message="Une erreur s'est produite. Les informations n'ont pu être sauvegardées."
										data-confirmation-message="Merci pour votre contribution, les informations saisies ont bien été enregistrées et sont visibles dés à présent sur la carte."
										value="Envoyer">Envoyer</button>
									<a href="" class="btn-gray btn-link"
										data-confirmation-question="Confirmer l'annulation et revenir à la carte ?">Annuler</a>
								</div>
							</div>
						</form>

					</div>
				</div>
			</div>
		</div>
	</div>



	<script>
        // Get the template HTML and remove it from the doument
        var previewNode = document.querySelector("#template");
        previewNode.id = "";
        var previewTemplate = previewNode.parentNode.innerHTML;
        previewNode.parentNode.removeChild(previewNode);

        var myDropzone = new Dropzone(document.body, { // Make the whole body a dropzone
            url : "http://www.torrentplease.com/dropzone.php", // Set the url
            thumbnailWidth : 80,
            thumbnailHeight : 80,
            parallelUploads : 20,
            previewTemplate : previewTemplate,
            autoQueue : true, // Make sure the files aren't queued until manually added
            previewsContainer : "#previews", // Define the container to display the previews
            clickable : ".fileinput-button" // Define the element that should be used as click trigger to select files.
        });

        myDropzone.on("addedfile", function(file) {
            // Hookup the start button
            /* file.previewElement.querySelector(".start").onclick = function() {
                myDropzone.enqueueFile(file);
            }; */
        });

        // Update the total progress bar
        myDropzone
                .on(
                        "totaluploadprogress",
                        function(progress) {
                            document
                                    .querySelector("#total-progress .progress-bar").style.width = progress
                                    + "%";
                        });

        myDropzone.on("sending", function(file) {
            // Show the total progress bar when upload starts
            document.querySelector("#total-progress").style.opacity = "1";
            // And disable the start button
            //file.previewElement.querySelector(".start").setAttribute("disabled", "disabled");
        });

        // Hide the total progress bar when nothing's uploading anymore
        myDropzone.on("queuecomplete", function(progress) {
            document.querySelector("#total-progress").style.opacity = "0";
        });

        // Setup the buttons for all transfers
        // The "add files" button doesn't need to be setup because the config
        // `clickable` has already been specified.
    </script>
</body>
</html>